<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content= "width=device-width, user-scalable=no">
    <title>Cash Calculator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet">
        <link href="./css/main.min.css" rel="stylesheet">
    <link href="./css/custom.css" rel="stylesheet">
  </head>
  <body class="bg-body-secondary">
    <nav class="navbar navbar-expand-xl navbar-dark bg-dark" aria-label="Offcanvas navbar large">
      <div class="container">
        <a class="navbar-brand" href="./index.html">
          <img src="./img/CashReg_logo_yellow_XS.png">
        </a>
        <h2 class="text-white d-none d-md-block">CASH CALCULATOR</h2>
        <button class="navbar-toggler " type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar2"
          aria-controls="offcanvasNavbar2" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon text-primary"></span>
        </button>
        <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasNavbar2"
          aria-labelledby="offcanvasNavbar2Label">
          <div class="offcanvas-header">
            <img src="./img/CashReg_logo_yellow_XS.png">
            <h5 class="offcanvas-title" id="offcanvasNavbar2Label">CASH CALCULATOR</h5>

            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
              aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">

              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="./index.html">
                  <h4>CALCULATOR</h4>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="./report.html">
                  <h4>TX REPORT</h4>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="./instructions.html">
                  <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
                    class="bi bi-lightbulb text-primary" viewBox="0 0 16 16">
                    <path
                      d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z" />
                  </svg>
                  <h4 class="float-lg-end text-primary">INSTRUCTIONS</h4>
                </a>
              </li>


            </ul>

          </div>
        </div>
      </div>
    </nav>
    <div class="container pb-3">

        <main>

          <div class="row text-center">
            <div class="col-md-8 themed-grid-col bg-primary py-lg-5">
              <div class="row">
                <h1 class="step_indicator mt-4">1. Insert a price</h1>
                <p class="text-center text-body-secondary">Insert the price in the field below</p>
                <div class="col-12 my-lg-1 pb-1">
                  <input id="TotalBill" type="number" value="" min="0.01" class="px-2 py-1 h6">
                </div>
              </div>
              <div class="row">
                <h1 class="step_indicator mt-4">2. Insert money paid</h1>
                <p class="text-center text-body-secondary px-3">Please split into units what Customer paid by
                clicking each button:</p>
                <div class="col-md-12 m-2 mx-auto">
                  <button class="btn_paid btn btn-dark px-3 mb-3" id="100DollBtn" type="button">100<span class="small_price">$</span></button>
                  <button class="btn_paid btn btn-dark px-3 mb-3" id="20DollBtn" type="button">20<span class="small_price">$</span></button>
                  <button class="btn_paid btn btn-dark px-3 mb-3" id="10DollBtn" type="button">10<span class="small_price">$</span></button>
                  <button class="btn_paid btn btn-dark px-3 mb-3" id="5DollBtn" type="button">5<span class="small_price">$</span></button>
                  <button class="btn_paid btn btn-dark px-3 mb-3" id="1DollBtn" type="button">1<span class="small_price">$</span></button>
                  <button class="btn_paid btn btn-dark px-3 mb-3" id="QuarterDollBtn" type="button">0.25<span class="small_price">$</span></button>
                  <button class="btn_paid btn btn-dark px-3 mb-3" id="DimeBtn" type="button">0.10<span class="small_price">$</span></button>
                  <button class="btn_paid btn btn-dark px-3 mb-3" id="NickelBtn" type="button">0.05<span class="small_price">$</span></button>
                  <button class="btn_paid btn btn-dark px-3 mb-3" id="PennyBtn" type="button">0.01<span class="small_price">$</span></button>
              </div>
                <div id="paid_display_container" class="my-1 col-md-4 mx-auto px-4">
                  <h2 id="paid_display" class="p-1 digit bg-dark ligth_blue_old">0 <span class="ultra_small"> $</span></h2>
                </div>
                <p class="text-center fw-bold">Example:</p>
                <p class="text-center px-3">The Customer gives you 80$ => Ex. n.4 $20 => <strong>Click 4 times 20$ button</strong>
                </p>
              </div>
              <div class="row">
                <div class="col px-2 mb-4">
                    <h1 class="step_indicator mt-4">3. Calculate cash</h1>
                    <p class="text-center text-body-secondary">Once filled both Price and Cash, click calculate to get the Cash to give back</p>
                    <button type="submit" id="goAll" class="btn btn-lg bd-btn-lg btn-dark"
                      onclick="getThePrice();sumPaid();checkCashRegister();">
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-calculator" viewBox="0 0 16 16">
                        <path d="M12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h8zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4z"/>
                        <path d="M4 2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-2zm0 4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-4z"/>
                      </svg>
                      Calculate
                    </button>
                </div>
              </div>




            </div>
            <div class="col-md-4 themed-grid-col py-lg-5 align-items-center">

              <div class="row mb-4">
                <div class="col px-2">

                  <h2 class="mt-4 text-center step_indicator mt-4">Check the Drawer</h2>
                  <p class="text-center">Click the button below to check the amount currently present in the drawer
                  </p>

                    <button class="btn btn-lg bd-btn-lg btn-dark" type="button" data-bs-toggle="offcanvas"
                      data-bs-target="#staticBackdrop" aria-controls="staticBackdrop">
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-clipboard-check" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
                        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
                      </svg> DRAWER
                    </button>

                  <div class="offcanvas bg-dark offcanvas-end" data-bs-backdrop="static" tabindex="-1" id="staticBackdrop"
                    aria-labelledby="staticBackdropLabel">
                    <div class="offcanvas-header py-2">
                      <h2 class="offcanvas-title text-white" id="staticBackdropLabel">C.I.D Cash in Drawer</h2>
                      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                      <h5 class="text-white">Below what is present in the Drawer</h5>

                      <div class="row my-3 text-center mx-auto" id="single_TX_block">
                        <!-- The block is in Cash_Register.js
                                                    in the fillTheLCD() function-->
                      </div>

                    </div>
                  </div>
                </div>
              </div>

              <div class="row mb-4">

                <div class="col px-2">

                    <h1 class="step_indicator mt-4 mt-4">See The report page</h1>
                    <h5 class="text-center">Click to see a list of all the valid transactions</h5>

                    <a href="./report.html" class="btn btn-lg bd-btn-lg btn-primary mt-3">
                      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-list-check" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3.854 2.146a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 3.293l1.146-1.147a.5.5 0 0 1 .708 0zm0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 7.293l1.146-1.147a.5.5 0 0 1 .708 0zm0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>
                      </svg> REPORT PAGE
                    </a>
                </div>
              </div>


            </div>

          </div>



        </main>
                    <!-- MODAL ZONE START -->
            <!---===============--->

            <!-- TRANSACTION MODAL -->
            <div class="modal modal-sheet bg-dark px-4 py-md-5" tabindex="-1" role="dialog" id="transaction_modal">
              <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content col-md-4 rounded-4 shadow bg-success">
                  <div class="modal-header d-block">

                    <h1 class="modal-title text-white">Valid Transaction</h1>
                    <h3 class="modal-title small text-white" id="currentDate"></h3>

                  </div>
                  <div class="modal-body py-2 text-white">
                    <h3 class="text-white">Total:<span id="totalBill"> </span>$</h3>
                    <h3>Paid:<span id="totalPaid"> </span>$</h3>
                    <p class="small"">Splitted Paid:<span id="splittedPaid"> </span></p>
                    <h4>Change to give back</h4>
                    <h6>(Unit, Amount):</h6>
                    <h4><span id="totalChange"></span></h4>

                  </div>
                  <div class="modal-body py-2 text-white">
                    <h2>DRAWER STATUS: <span id="status"></span></h2>
                  </div>

                  <div class="modal-footer">
                    <button type="button" onclick="hideModal();refreshPage()" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Close</button>
                  </div>
              </div>
            </div>
            </div>
            <!-- TRANSACTION MODAL end-->

            <!-- ERROR MODAL (When paid is lower than the price) -->
            <div class="modal modal-sheet bg-dark px-4 py-md-5" tabindex="-1" role="dialog" id="error_modal">
              <div class="modal-dialog" role="document">
                <div class="modal-content rounded-4 shadow bg-danger">
                  <div class="modal-header d-block">
                    <h2 class="modal-title text-white">Invalid Operation</h2>
                    <h4 class="modal-title text-white">
                      As you can see below, The Money paid are not enough to cover the Price
                    </h4>
                  </div>
                    <div class="modal-body py-3 text-white"">
                      <h4 class="text-white mt-3 fw-bold">Price: <span id="price_error"></span></h4>
                      <h4 class="text-white mt-3 fw-bold">Money paid: <span id="paid_error"></span></h4>
                      <h3 class="text-white mt-3 fw-bold">Please, check your input</h3>
                    </div>

                  <div class="modal-footer flex-column align-items-stretch w-100 gap-2 pb-3 border-top-0">
                    <div class="modal-footer">
                      <button type="button" onclick="hideModal();" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Close</button>
                    </div>
                  </div>
              </div>
            </div>
            </div>
            <!-- ERROR MODAL End -->

            <!-- ERROR MODAL (price not filled) id="noFill_modal"-->
            <div class="modal modal-sheet bg-dark px-4 py-md-5" tabindex="-1" role="dialog" id="noFill_modal">
              <div class="modal-dialog" role="document">
                <div class="modal-content rounded-4 shadow bg-danger">
                  <div class="modal-header d-block">
                    <h2 class="modal-title text-white">Invalid Operation</h2>
                    <h3 class="modal-title small text-white" id="currentDateInvalid">

                    </h3>
                  </div>
                    <div class="modal-body py-3 text-white">
                      <h4 class="text-white mt-3 fw-bold">Please fill both Cash and Price</h4>

                    </div>

                  <div class="modal-footer flex-column align-items-stretch w-100 gap-2 pb-3 border-top-0">
                    <div class="modal-footer">
                      <button type="button" onclick="hideModal();refreshPage();" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Close</button>
                    </div>
                  </div>
              </div>
            </div>
            </div>
            <!-- ERROR MODAL End -->

            <!-- ERROR MODAL (price not a number ) id="noNumberType_modal"-->
            <div class="modal modal-sheet bg-dark px-4 py-md-5" tabindex="-1" role="dialog" id="noNumberType_modal">
              <div class="modal-dialog" role="document">
                <div class="modal-content rounded-4 shadow bg-danger">
                  <div class="modal-header d-block">
                    <h2 class="modal-title text-white">Invalid Operation</h2>
                    <h3 class="modal-title small text-white" id="currentDateInvalid">

                    </h3>
                  </div>
                    <div class="modal-body py-3 text-white">
                      <h4 class="text-white mt-3 fw-bold">Price is not a number</h4>
                      <p>Only numbers (positive) and "." are allowed</p>
                      <h4 class="text-white mt-3 fw-bold">Please check your input</h4>
                    </div>

                  <div class="modal-footer flex-column align-items-stretch w-100 gap-2 pb-3 border-top-0">
                    <div class="modal-footer">
                      <button type="button" onclick="hideModal();refreshPage();" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Close</button>
                    </div>
                  </div>
              </div>
            </div>
            </div>
            <!-- ERROR MODAL End -->

            <!-- ERROR MODAL (due to change exceeds that in the drawer (totalOfCid) -->
                <div class="modal modal-sheet bg-dark px-4 py-md-5" tabindex="-1" role="dialog" id="insuffFunds_modal">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content rounded-4 shadow bg-danger">
                      <div class="modal-header d-block">
                        <h2 class="modal-title text-white">Invalid Transaction</h2>
                        <h3 class="modal-title small text-white" id="currentDateInvalid">

                        </h3>
                      </div>
                        <div class="modal-body py-3 text-white">
                          <h4 class="text-white mt-3 fw-bold">Insufficient Funds to give back</h4>
                          <h4 class="text-white mt-3 fw-bold">Please, check by click the CID button below</h4>
                        </div>

                      <div class="modal-footer flex-column align-items-stretch w-100 gap-2 pb-3 border-top-0">
                        <div class="modal-footer">
                          <button type="button" onclick="hideModal();refreshPage()" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Close</button>
                        </div>
                      </div>
                  </div>
                </div>
                </div>
                <!-- ERROR MODAL End -->

            <!-- MODAL ZONE END -->
            <!---=============----->

      </div>
      <footer class="py-3 bg-dark">
        <ul class="nav justify-content-center border-bottom pb-3 mb-3">
          <li class="nav-item"><a href="./index.html" class="nav-link active text-white">Calculator</a></li>
          <li class="nav-item"><a href="./report.html" class="nav-link px-2 text-white">Report</a></li>
          <li class="nav-item"><a href="./instructions.html" class="nav-link px-2 text-white">Instructions</a></li>

        </ul>

        <p class="text-center text-white">© 2023
          <a href="http://anvicdev.byethost7.com/" target="_blank">Andrea Vicari</a>
          Web Developer <>
            </p>
            <p class="text-center text-white">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
              </svg>
              Code available on <a href="https://github.com/Andrea-vicari" target="_blank">
              GitHub</a>
            </p>


      </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
        <script src="./js/Cash_Register.js"></script>

  </body>
</html>